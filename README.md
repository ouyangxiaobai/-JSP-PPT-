​



# 项目名称

基于JSP的鲜花销售商城设计与实现毕业论文+任务书+中期表+翻译及原文+答辩PPT+源码+数据库+辅导视频

# 系统介绍

\
摘  要\
随着时代的快速发展，我们的生活已经离不开计算机网络，而电子商务的快速发展正在改变着人们的生活方式。随着各种网上购物平台的不断兴起，人们早已习惯了不用出门就买到自己需要的东西。但是针对鲜花销售这方面的网络平台还很少，因此设计一个网上鲜花销售商城很有前景。\
网上鲜花销售商城采用JSP+Servlet+JavaBean的MVC模式，将数据对象、业务逻辑以及用户界面分离。该系统分为用户和管理员两个角色。用户注册登录后可以浏览鲜花，浏览公告，购买鲜花，管理员登录后可以对系统进行管理和维护。\
网上鲜花销售商城对于用户来说操作方便，满足了用户随时随地购买鲜花的需求，不仅为用户节省了时间，还提高了用户的购买效率。对于鲜花老板而言，不仅提高了销售效率还降低了时间和人工成本。\
关键词  销售商城；JSP；MVC；网上鲜花\
Abstract\
With the rapid development of the times, our life has been inseparable from the computer network, and the rapid development of e-commerce is changing people's way of life. With the continuous rise of various online shopping platforms, people have long been used to buying what they need without going out. But there are few online platforms for flower sales, so designing an online flower sales mall is promising.\
The online flower sales mall uses the MVC pattern of JSP Servlet JavaBean to separate data objects, business logic, and user interfaces. The system is divided into two roles: user and administrator. The user can browse the flowers, browse the announcement, purchase the flowers, and the administrator can manage and maintain the system after logging in.\
The online flower sales mall is convenient for users to operate, and meets the needs of users to buy flowers anytime, anywhere, not only saves time for users, but also improves the purchase efficiency of users. For flower owners, not only improve sales efficiency but also reduce time and labor costs.\
Keywords Sales Mall; JSP; MVC; Online Flowers\
目  录\
摘  要 I\
Abstract II\
1 绪论 1\
1.1 现状分析 1\
1.2 研究意义 1\
1.3 研究方法 1\
2 系统的开发环境及技术简介 3\
2.1 系统开发环境简介 3\
2.2 系统开发技术简介 3\
3 可行性研究 7\
3.1 经济可行性 7\
3.2 技术可行性 7\
3.3 操作可行性 7\
3.4 法律可行性 7\
4 需求分析 9\
4.1 数据描述 9\
4.1.1 数据流图 9\
4.1.2 数据字典 11\
4.1.3 系统IPO图 12\
4.2 功能需求 12\
4.2.1 功能划分 12\
4.2.2 功能描述 13\
4.3 性能需求 14\
4.4 运行需求 14\
4.5 其他需求 15\
5 总体设计 16\
5.1 系统功能模块设计 16\
5.2 数据库设计 18\
5.2.1 概念结构设计 18\
5.2.2 逻辑结构设计 21\
6 详细设计与实现 24\
6.1 系统对象的设计与实现 24\
6.2 系统首页的设计与实现 25\
6.3 系统前台功能的设计与实现 25\
6.3.1 用户注册模块的设计与实现 25\
6.3.2 用户登录模块的设计与实现 27\
6.3.3 公告浏览模块的设计与实现 28\
6.3.4 鲜花列表模块的设计与实现 29\
6.3.5 用户购物车模块的设计与实现 30\
6.3.6 用户订单模块的设计与实现 31\
6.3.7 用户信息管理模块的设计与实现 31\
6.4 系统后台功能的设计与实现 32\
6.4.1 系统后台页面的设计与实现 32\
6.4.2 分类管理功能的设计与实现 33\
6.4.3 鲜花管理功能的设计与实现 33\
6.4.4 公告管理功能的设计与实现 33\
6.4.5 订单管理功能的设计与实现 34\
6.4.6 用户管理功能的设计与实现 34\
7 系统的调试与测试 36\
7.1 程序调试 36\
7.2 程序测试 36\
7.2.1 测试的内容 36\
7.2.2 测试用例 36\
7.2.3 测试结果 38\
结论 44\
参考文献 45\
致谢 46

# 环境需要

1.运行环境：最好是java jdk 1.8，我们在这个平台上运行的。其他版本理论上也可以。\
2.IDE环境：IDEA，Eclipse,Myeclipse都可以。推荐IDEA;\
3.tomcat环境：Tomcat 7.x,8.x,9.x版本均可\
4.硬件环境：windows 7/8/10 1G内存以上；或者 Mac OS； \
5.数据库：MySql 5.7版本；\
6.是否Maven项目：否；

# 技术栈

1. 后端：Spring+SpringMVC+Mybatis\
2. 前端：JSP+CSS+JavaScript+jQuery

# 使用说明

1. 使用Navicat或者其它工具，在mysql中创建对应名称的数据库，并导入项目的sql文件；\
2. 使用IDEA/Eclipse/MyEclipse导入项目，Eclipse/MyEclipse导入时，若为maven项目请选择maven;\
若为maven项目，导入成功后请执行maven clean;maven install命令，然后运行；\
3. 将项目中springmvc-servlet.xml配置文件中的数据库配置改为自己的配置;\
4. 运行项目，在浏览器中输入http://localhost:8080/ 登录

# 运行截图


![20200207121146575002.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c25d14deff794f15bf736de066785ac0~tplv-k3u1fbpfcp-watermark.image?)

![20200207121147529004.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20d55aef137140a5ab5b5786b30cc9b9~tplv-k3u1fbpfcp-watermark.image?)

![20200207121147751005.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6177e235a7d746cb8320e663c34b3c41~tplv-k3u1fbpfcp-watermark.image?)

![20200207121148596006.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1c73d4a2c8b64ae09518c94ac026f23a~tplv-k3u1fbpfcp-watermark.image?)

![20200207121149161007.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5d0ce9545aa74ebdbb7bf6d9459f2ed2~tplv-k3u1fbpfcp-watermark.image?)

![20200207121151286010.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b0e6e3a3ec04f048f1a4fdef598d970~tplv-k3u1fbpfcp-watermark.image?)

![20200207121151681009.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7be197768ac14e7baa4c1b541f0a7e2c~tplv-k3u1fbpfcp-watermark.image?)

![20200207121152408012.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/77ac9437746b45048c6fe594348f7fc1~tplv-k3u1fbpfcp-watermark.image?)

![20200207121153250013.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ec7442220531471cb2867dab87b801dd~tplv-k3u1fbpfcp-watermark.image?)

![20200207121144725001.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3510e1a877d342e386999e0427ecf555~tplv-k3u1fbpfcp-watermark.image?)

![20200207121146177003.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8d6775a3d4504b64b492d005ee03ff63~tplv-k3u1fbpfcp-watermark.image?)

# 用户管理控制层:

```
package com.houserss.controller;

import javax.servlet.http.HttpSession;

import org.apache.commons.lang3.StringUtils;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;

import com.houserss.common.Const;
import com.houserss.common.Const.Role;
import com.houserss.common.ServerResponse;
import com.houserss.pojo.User;
import com.houserss.service.IUserService;
import com.houserss.service.impl.UserServiceImpl;
import com.houserss.util.MD5Util;
import com.houserss.util.TimeUtils;
import com.houserss.vo.DeleteHouseVo;
import com.houserss.vo.PageInfoVo;

/**
 * Created by admin
 */
@Controller
@RequestMapping("/user/")
public class UserController {
    @Autowired
    private IUserService iUserService;

    /**
     * 用户登录
     * @param username
     * @param password
     * @param session
     * @return
     */
    @RequestMapping(value = "login.do",method = RequestMethod.POST)
    @ResponseBody
    public ServerResponse<User> login(User user,String uvcode, HttpSession session){
        String code = (String)session.getAttribute("validationCode");
        if(StringUtils.isNotBlank(code)) {
            if(!code.equalsIgnoreCase(uvcode)) {
                return ServerResponse.createByErrorMessage("验证码不正确");
            }
        }
        ServerResponse<User> response = iUserService.login(user.getUsername(),user.getPassword());
        if(response.isSuccess()){
            session.setAttribute(Const.CURRENT_USER,response.getData());
        }
        return response;
    }

  
    
    
}
```

![](<> "点击并拖拽以移动")

# 管理员管理控制层:

```

package com.sxl.controller.admin;

import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;

import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

import com.sxl.controller.MyController;

@Controller("adminController")
@RequestMapping(value = "/admin")
public class AdminController extends MyController {
	

	@RequestMapping(value = "/index")
	public String frame(Model model, HttpServletRequest request)throws Exception {
		return "/admin/index";
	}
	
	@RequestMapping(value = "/main")
	public String main(Model model, HttpServletRequest request)throws Exception {
		return "/admin/main";
	}
	
	@RequestMapping(value = "/tj1")
	public String tj1(Model model, HttpServletRequest request)throws Exception {
		String sql="select DATE_FORMAT(insertDate,'%Y-%m-%d') dates,sum(allPrice) price from t_order order by DATE_FORMAT(insertDate,'%Y-%m-%d')  desc";
		List<Map> list = db.queryForList(sql);
		model.addAttribute("list", list);
		System.out.println(list);
		return "/admin/tj/tj1";
	}
	
	
	@RequestMapping(value = "/password")
	public String password(Model model, HttpServletRequest request)throws Exception {
		return "/admin/password";
	}
	
	
	@RequestMapping(value = "/changePassword")
	public ResponseEntity<String> loginSave(Model model,HttpServletRequest request,String oldPassword,String newPassword) throws Exception {
		Map admin = getAdmin(request);
		if(oldPassword.equals(admin.get("password").toString())){
			String sql="update t_admin set password=? where id=?";
			db.update(sql, new Object[]{newPassword,admin.get("id")});
			return renderData(true,"1",null);
		}else{
			return renderData(false,"1",null);
		}
	}
}
```

![](<> "点击并拖拽以移动")

# 修改密码业务逻辑:

```

package com.sxl.controller.admin;

import java.util.Map;

import javax.servlet.http.HttpServletRequest;

import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

import com.sxl.controller.MyController;

@Controller("userController")
@RequestMapping(value = "/user")
public class UserController extends MyController {
	

	@RequestMapping(value = "/index")
	public String frame(Model model, HttpServletRequest request)throws Exception {
		return "/user/index";
	}
	
	@RequestMapping(value = "/main")
	public String main(Model model, HttpServletRequest request)throws Exception {
		return "/user/main";
	}
	
	
	@RequestMapping(value = "/password")
	public String password(Model model, HttpServletRequest request)throws Exception {
		return "/user/password";
	}
	
	
	@RequestMapping(value = "/changePassword")
	public ResponseEntity<String> loginSave(Model model,HttpServletRequest request,String oldPassword,String newPassword) throws Exception {
		Map user = getUser(request);
		if(oldPassword.equals(user.get("password").toString())){
			String sql="update t_user set password=? where id=?";
			db.update(sql, new Object[]{newPassword,user.get("id")});
			return renderData(true,"1",null);
		}else{
			return renderData(false,"1",null);
		}
	}
	@RequestMapping(value = "/mine")
	public String mine(Model model, HttpServletRequest request)throws Exception {
Map user =getUser(request);Map map = db.queryForMap("select * from t_user where id=?",new Object[]{user.get("id")});model.addAttribute("map", map);		return "/user/mine";
	}
	
	

	@RequestMapping(value = "/mineSave")
	public ResponseEntity<String> mineSave(Model model,HttpServletRequest request,Long id
		,String username,String password,String name,String gh,String mobile) throws Exception{
		int result = 0;
			String sql="update t_user set name=?,gh=?,mobile=? where id=?";
			result = db.update(sql, new Object[]{name,gh,mobile,id});
		if(result==1){
			return renderData(true,"操作成功",null);
		}else{
			return renderData(false,"操作失败",null);
		}
	}
	}
```

![](<> "点击并拖拽以移动")

# 通用管理模块:

```
package com.sxl.controller;


import java.nio.charset.Charset;
import java.util.Locale;
import java.util.ResourceBundle;

import javax.servlet.http.HttpServletRequest;

import org.apache.commons.lang.StringUtils;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpHeaders;
import org.springframework.http.HttpStatus;
import org.springframework.http.MediaType;
import org.springframework.http.ResponseEntity;

import com.sxl.util.JacksonJsonUtil;
import com.sxl.util.StringUtil;
import com.sxl.util.SystemProperties;


public class BaseController {
	public static final Long EXPIRES_IN = 1000 * 3600 * 24 * 1L;// 1天

	@Autowired
	private SystemProperties systemProperties;

	/**
	 * 获得配置文件内容
	 */
	public String getConfig(String key) {
		return systemProperties.getProperties(key);
	}

	/**
	 * 返回服务器地址 like http://192.168.1.1:8441/UUBean/
	 */
	public String getHostUrl(HttpServletRequest request) {
		String hostName = request.getServerName();
		Integer hostPort = request.getServerPort();
		String path = request.getContextPath();

		if (hostPort == 80) {
			return "http://" + hostName + path + "/";
		} else {
			return "http://" + hostName + ":" + hostPort + path + "/";
		}
	}

	/***
	 * 获取当前的website路径 String
	 */
	public static String getWebSite(HttpServletRequest request) {
		String returnUrl = request.getScheme() + "://"
				+ request.getServerName();

		if (request.getServerPort() != 80) {
			returnUrl += ":" + request.getServerPort();
		}

		returnUrl += request.getContextPath();

		return returnUrl;
	}



	/**
	 * 初始化HTTP头.
	 * 
	 * @return HttpHeaders
	 */
	public HttpHeaders initHttpHeaders() {
		HttpHeaders headers = new HttpHeaders();
		MediaType mediaType = new MediaType("text", "html",
				Charset.forName("utf-8"));
		headers.setContentType(mediaType);
		return headers;
	}

	/**
	 * 返回 信息数据
	 * 
	 * @param status
	 * @param msg
	 * @return
	 */
	public ResponseEntity<String> renderMsg(Boolean status, String msg) {
		if (StringUtils.isEmpty(msg)) {
			msg = "";
		}
		String str = "{"status":"" + status + "","msg":"" + msg + ""}";
		ResponseEntity<String> responseEntity = new ResponseEntity<String>(str,
				initHttpHeaders(), HttpStatus.OK);
		return responseEntity;
	}

	/**
	 * 返回obj数据
	 * 
	 * @param status
	 * @param msg
	 * @param obj
	 * @return
	 */
	public ResponseEntity<String> renderData(Boolean status, String msg,
			Object obj) {
		if (StringUtils.isEmpty(msg)) {
			msg = "";
		}
		StringBuffer sb = new StringBuffer();
		sb.append("{");
		sb.append(""status":"" + status + "","msg":"" + msg + "",");
		sb.append(""data":" + JacksonJsonUtil.toJson(obj) + "");
		sb.append("}");

		ResponseEntity<String> responseEntity = new ResponseEntity<String>(
				sb.toString(), initHttpHeaders(), HttpStatus.OK);
		return responseEntity;
	}


	/***
	 * 获取IP（如果是多级代理，则得到的是一串IP值）
	 */
	public static String getIpAddr(HttpServletRequest request) {
		String ip = request.getHeader("x-forwarded-for");
		if (ip == null || ip.length() == 0 || "unknown".equalsIgnoreCase(ip)) {
			ip = request.getHeader("Proxy-Client-IP");
		}

		if (ip == null || ip.length() == 0 || "unknown".equalsIgnoreCase(ip)) {
			ip = request.getHeader("WL-Proxy-Client-IP");
		}

		if (ip == null || ip.length() == 0 || "unknown".equalsIgnoreCase(ip)) {
			ip = request.getRemoteAddr();
		}

		if (ip != null && ip.length() > 0) {
			String[] ips = ip.split(",");
			for (int i = 0; i < ips.length; i++) {
				if (!"unknown".equalsIgnoreCase(ips[i])) {
					ip = ips[i];
					break;
				}
			}
		}

		return ip;
	}

	/**
	 * 国际化获得语言内容
	 * 
	 * @param key
	 *            语言key
	 * @param args
	 * @param argsSplit
	 * @param defaultMessage
	 * @param locale
	 * @return
	 */
	public static String getLanguage(String key, String args, String argsSplit,
			String defaultMessage, String locale) {
		String language = "zh";
		String contry = "cn";
		String returnValue = defaultMessage;

		if (!StringUtil.isEmpty(locale)) {
			try {
				String[] localeArray = locale.split("_");
				language = localeArray[0];
				contry = localeArray[1];
			} catch (Exception e) {
			}
		}

		try {
			ResourceBundle resource = ResourceBundle.getBundle("lang.resource",
					new Locale(language, contry));
			returnValue = resource.getString(key);
			if (!StringUtil.isEmpty(args)) {
				String[] argsArray = args.split(argsSplit);
				for (int i = 0; i < argsArray.length; i++) {
					returnValue = returnValue.replace("{" + i + "}",
							argsArray[i]);
				}
			}
		} catch (Exception e) {
		}

		return returnValue;
	}
}
```

![](<> "点击并拖拽以移动")

> # **数据库获取：QQ:3484724101**

​